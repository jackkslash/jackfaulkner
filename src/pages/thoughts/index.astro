---
import Layout from "../../layouts/index.astro";
const allPosts = Object.values(
  import.meta.glob("../posts/*.md", { eager: true })
);
const sortedPosts = allPosts.sort((a: any, b: any) =>
  new Date(b.frontmatter.date).getTime() - new Date(a.frontmatter.date).getTime()
);
---

<Layout>
  <div class="min-h-screen px-6 py-10 md:px-12 md:py-14">
    <header class="flex flex-row items-center justify-between mb-12 md:mb-16">
      <a href="/" class="text-sm text-muted hover:text-primary transition-colors">← Jack Faulkner</a>
      <nav class="flex gap-6 text-sm text-muted">
        <a href="/projects" class="hover:text-primary transition-colors">Projects</a>
        <a href="/work" class="hover:text-primary transition-colors">Work</a>
        <a href="/thoughts" class="text-primary">Thoughts</a>
      </nav>
    </header>
    <h1 class="text-2xl font-bold mb-10">Thoughts</h1>
    <ol class="flex flex-col gap-6 max-w-xl list-decimal list-inside">
      {
        sortedPosts.map((post: any) => (
          <li>
            <a href={post.url} class="text-primary hover:underline">
              {post.frontmatter.title}
            </a>
            <span class="block text-sm text-muted mt-0.5 pl-6">
              {post.frontmatter.description} · {post.frontmatter.date.toString().slice(0, 10)}
            </span>
          </li>
        ))
      }
    </ol>
  </div>
</Layout>
